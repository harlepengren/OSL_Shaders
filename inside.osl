// (c) 2018 Harlepengren LLC
// Licensed under Creative Commons CC BY 4.0

volume inside(float  radius=1.0, float seed=0.0, float scale=1.0, color inputColor=1, output closure color BSDF=0) {
    float currentNoise = noise("perlin",P,seed);
    
    float currentRadius = length(P)+currentNoise*scale;
    
    if(currentRadius < radius) {
        BSDF = henyey_greenstein(0)*50*inputColor;
    }
}